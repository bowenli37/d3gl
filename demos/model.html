<!DOCTYPE html>
<html>
<head>
    <title>D3GL Apple</title>
    <link rel="stylesheet" href="../css/demo.css" />
</head>
<body>

<h1>Hello Apple!</h1>

<script type="text/javascript" src="../js/jquery-1.8.2.js"></script>
<script type="text/javascript" src="../js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="../js/d3.v2.js"></script>
<script type="text/javascript" src="../js/RequestAnimationFrame.js"></script>
<script type="text/javascript" src="../js/three.js"></script>
<script type="text/javascript" src="../js/d3gl.js"></script>
<!--TODO: add collada loader when minifying-->
<script type="text/javascript" src="../js/OBJLoader.js"></script>
<!-- All scripts above are included here:
<script type="text/javascript" src="../js/d3gl.min.js"></script> -->

<script type="text/javascript">
$(function(){
/*
  var loader = new THREE.Loader();
  var material = loader.createMaterial({
    "colorAmbient" : [0.4, 0.4, 0.4],
    "colorDiffuse" : [0.8, 0.8, 0.8],
    "colorSpecular" : [1.0, 1.0, 1.0],
    "illumination" : 1,
    "mapDiffuse" : "../img/apple-poison-tex.jpg",
    "specularCoef" : 0.0,
    "transparency" : 1.0
  }, ".");
*/
var meshes = [
    //{mesh: "../models/legoman3/legoman3.js", texture: "../img/apple-tex.jpg"},
    {mesh: "../models/apple/apple.js", texture: "../img/apple-poison-tex.jpg"},
    {mesh: "../models/apple/apple.js", texture: "../img/apple-yellow-tex.jpg"},
    //{mesh: "../models/apple/apple.obj", texture: "../img/apple-poison-tex.jpg"},
];
var model = d3.gl.model()
    .width(300).height(300)
    .mesh(function(datum, index) { return datum.mesh; })
    .texture(function(datum, index, materialIndex) {
        if (materialIndex == 0) return datum.texture;
        else return null;
    });

d3.select("body").selectAll("span")
    .data(meshes).enter().append("span")
    .call(model);
    
});

</script>
</body>
</html>
